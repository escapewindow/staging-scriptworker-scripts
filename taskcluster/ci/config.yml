---
trust-domain: scriptworker

task-priority: high

taskgraph:
    register: scriptworker_taskgraph:register
    repositories:
        scriptworker:
# XXX
#            name: "Scriptworker-scripts"
#            project-regex: scriptworker-scripts$
#            default-repository: https://github.com/mozilla-releng/scriptworker-scripts
            name: "scriptworker-scripts taskgraph staging"
            project-regex: staging-scriptworker-scripts$
            default-repository: https://github.com/escapewindow/staging-scriptworker-scripts
            default-ref: master
            type: git

workers:
    aliases:
        b-linux:
            provisioner: scriptworker-{level}
            implementation: docker-worker
            os: linux
            worker-type: 'b-linux'
        images:
            provisioner: scriptworker-{level}
            implementation: docker-worker
            os: linux
            worker-type: 'images'

notify:
    email:
        # TODO by-project/level
        - aki+scriptworker-scripts@mozilla.com
    # TODO by-project/level
    prefix: "[scriptworker-scripts stage]"

release-promotion:
    flavors:
        promote:
            target-tasks-method: promote_scriptworker

private-artifact-prefix: releng/scriptworker

scriptworker:
    scope-prefix: project:scriptworker:releng
